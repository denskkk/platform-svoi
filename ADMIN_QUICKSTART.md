# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

## –ö—Ä–æ–∫ 1: –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```powershell
# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ PostgreSQL —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
psql -U your_username -d platform_svoi -f database/migrations/20251124_add_admin_role.sql
```

–ê–±–æ —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Prisma:

```powershell
# –û–Ω–æ–≤–∏—Ç–∏ Prisma —Å—Ö–µ–º—É
npx prisma db push

# –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ Prisma Client
npx prisma generate
```

---

## –ö—Ä–æ–∫ 2: –ó—Ä–æ–±–∏—Ç–∏ —Å–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

```sql
-- –ó—Ä–æ–±–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ ID=1 –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
UPDATE users SET is_admin = TRUE WHERE user_id = 1;

-- –ê–ë–û –ø–æ email
UPDATE users SET is_admin = TRUE WHERE email = 'your_email@example.com';

-- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
SELECT user_id, first_name, last_name, email, is_admin 
FROM users 
WHERE is_admin = TRUE;
```

---

## –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```powershell
# –ó—É–ø–∏–Ω–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
npm run dev
```

---

## –ö—Ä–æ–∫ 4: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å

1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞: **http://localhost:3000/admin**
3. –Ø–∫—â–æ –≤–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä - –ø–æ–±–∞—á–∏—Ç–µ dashboard
4. –Ø–∫—â–æ –Ω—ñ - –≤–∞—Å –ø–µ—Ä–µ–∫–∏–Ω–µ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É

---

## üìä –î–æ—Å—Ç—É–ø–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

- `/admin` - –ì–æ–ª–æ–≤–Ω–∞ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- `/admin/users` - –î–µ—Ç–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `/admin/transactions` - –Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –£–¶–ú
- `/admin/conversations` - –ü–µ—Ä–µ–ø–∏—Å–∫–∏ (–≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ)

---

## üîç –©–æ –º–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏?

### Dashboard (/admin)
- üë• –í—Å—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üü¢ –ê–∫—Ç–∏–≤–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (–∑–∞ 30 –¥–Ω—ñ–≤)
- üìã –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Å–ª—É–≥
- üí¨ –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- üí∞ –£–¶–ú –≤ –æ–±—ñ–≥—É
- üìä –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–∞ 7 –¥–Ω—ñ–≤
- üèÜ –¢–æ–ø-10 –ø–æ –±–∞–ª–∞–Ω—Å—É –£–¶–ú
- üìà –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ø–æ —Ç–∏–ø–∞—Ö

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (/admin/users)
–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
- –ë–∞–∑–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (—ñ–º'—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –º—ñ—Å—Ç–æ)
- –ë–∞–ª–∞–Ω—Å –£–¶–ú
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Å–ª—É–≥
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
- –°–∫—ñ–ª—å–∫–∏ –≤—ñ–¥–ø—Ä–∞–≤–∏–≤ –£–¶–ú
- –°–∫—ñ–ª—å–∫–∏ –æ—Ç—Ä–∏–º–∞–≤ –£–¶–ú
- –û—Å—Ç–∞–Ω–Ω—ñ 3 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
- –î–∞—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤—Ö–æ–¥—É

**–ü–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∏:**
- –ü–æ—à—É–∫ –ø–æ —ñ–º–µ–Ω—ñ, email, –º—ñ—Å—Ç—É
- –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ: –¥–∞—Ç—ñ, –±–∞–ª–∞–Ω—Å—É, —ñ–º–µ–Ω—ñ, –º—ñ—Å—Ç—É
- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è

### –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (/admin/transactions)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Å—å–æ–≥–æ–¥–Ω—ñ, —Ç–∏–∂–¥–µ–Ω—å, –º—ñ—Å—è—Ü—å
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞—Ö
- 10 –Ω–∞–π–±—ñ–ª—å—à–∏—Ö –ø–µ—Ä–µ–∫–∞–∑—ñ–≤
- –ü–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞
- –ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å –ø—ñ—Å–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó

---

## üé® –§—ñ—á—ñ UI

‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω (mobile-first)
‚úÖ Gradient —Ñ–æ–Ω–∏
‚úÖ Hover –µ—Ñ–µ–∫—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–∫–∞—Ö
‚úÖ –ö–æ–ª—å–æ—Ä–æ–≤–∞ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—è (—á–µ—Ä–≤–æ–Ω–∏–π/–∑–µ–ª–µ–Ω–∏–π –¥–ª—è +/-)
‚úÖ –Ü–∫–æ–Ω–∫–∏ Lucide React
‚úÖ Skeleton loading states
‚úÖ –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
‚úÖ –§—ñ–ª—å—Ç—Ä–∏ —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
‚úÖ –ü–æ—à—É–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

---

## üîí –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ —Ä–æ—É—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ —á–µ—Ä–µ–∑ `withAuth` middleware
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ `isAdmin` –≤ –∫–æ–∂–Ω–æ–º—É endpoint
- 403 –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –¥–æ—Å—Ç—É–ø—É –Ω–µ-–∞–¥–º—ñ–Ω–∞
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö
- –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ SQL-—ñ–Ω'—î–∫—Ü—ñ–π —á–µ—Ä–µ–∑ Prisma ORM

---

## üìù –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```typescript
// –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
const response = await fetch('/api/admin/stats', {
  credentials: 'include'
});
const data = await response.json();

console.log('–í—Å—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:', data.stats.users.total);
console.log('–£–¶–ú –≤ –æ–±—ñ–≥—É:', data.stats.ucm.totalInCirculation);
```

---

## ‚ö° –®–≤–∏–¥–∫—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ó—Ä–æ–±–∏—Ç–∏ –ø–µ—Ä—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–¥–º—ñ–Ω–æ–º
psql -U postgres -d platform_svoi -c "UPDATE users SET is_admin = TRUE WHERE user_id = 1;"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
psql -U postgres -d platform_svoi -c "SELECT user_id, first_name, email, is_admin FROM users WHERE is_admin = TRUE;"

# –ó–∞–±—Ä–∞—Ç–∏ –∞–¥–º—ñ–Ω –ø—Ä–∞–≤–∞
psql -U postgres -d platform_svoi -c "UPDATE users SET is_admin = FALSE WHERE user_id = 2;"
```

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å! üéâ**
