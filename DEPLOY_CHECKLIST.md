# üöÄ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—é –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

## üìã –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏:

### 1. ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ (Windows)

```powershell
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å—ñ —Ñ–∞–π–ª–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ
git status

# –î–æ–¥–∞—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏
git add .

# –ó–∞–∫–æ–º—ñ—Ç–∏—Ç–∏
git commit -m "fix: registration system - return token, make city optional, add client-auth helpers"

# –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ GitHub
git push origin main
```

---

### 2. üîß –ù–∞ VPS (Ubuntu)

```bash
# –ó'—î–¥–Ω–∞—Ç–∏—Å—å –∑ VPS
ssh root@vps-52355

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
cd /var/www/sviydlyasvoih/platform-svoi

# –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥
git pull origin main

# –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ PM2
pm2 restart sviy-web

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ (Ctrl+C –¥–ª—è –≤–∏—Ö–æ–¥—É)
pm2 logs sviy-web --lines 50
```

---

### 3. ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

#### –¢–µ—Å—Ç 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≥–ª—è–¥–∞—á–∞
1. –í—ñ–¥–∫—Ä–∏—Ç–∏: http://sviydlyasvoih.com.ua/auth/register/viewer
2. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏:
   - –Ü–º'—è: `–¢–µ—Å—Ç`
   - –ü—Ä—ñ–∑–≤–∏—â–µ: `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á`
   - Email: `test@example.com`
   - –ü–∞—Ä–æ–ª—å: `Test1234`
   - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è: `Test1234`
   - **–ó–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏:** –¢–µ–ª–µ—Ñ–æ–Ω, –ú—ñ—Å—Ç–æ
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è"
4. ‚úÖ **–û—á—ñ–∫—É—î–º–æ:** –†–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/catalog`, –¥–∞–Ω—ñ –≤ localStorage

#### –¢–µ—Å—Ç 2: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –±—ñ–∑–Ω–µ—Å—É
1. –í—ñ–¥–∫—Ä–∏—Ç–∏: http://sviydlyasvoih.com.ua/auth/register/business
2. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏:
   - –Ü–º'—è: `–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—ñ–¥–ø—Ä–∏—î–º–µ—Ü—å`
   - Email: `business@example.com`
   - –¢–µ–ª–µ—Ñ–æ–Ω: `+380501234567`
   - –ü–∞—Ä–æ–ª—å: `Business1234`
   - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è: `Business1234`
   - **–ó–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º:** –ú—ñ—Å—Ç–æ
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏"
4. ‚úÖ **–û—á—ñ–∫—É—î–º–æ:** –†–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/auth/business-questionnaire`, –¥–∞–Ω—ñ –≤ localStorage

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ localStorage:
–ü—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –≤—ñ–¥–∫—Ä–∏—Ç–∏ DevTools (F12):
- Application ‚Üí Local Storage ‚Üí –¥–æ–º–µ–Ω
- –ú–∞—î –±—É—Ç–∏:
  - ‚úÖ `user` - JSON –∑ –¥–∞–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  - ‚úÖ `token` - JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫)

---

### 4. üîê SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç (–ø—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Certbot (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)
sudo apt update
sudo apt install -y certbot python3-certbot-nginx

# –û—Ç—Ä–∏–º–∞—Ç–∏ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
sudo certbot --nginx -d sviydlyasvoih.com.ua -d www.sviydlyasvoih.com.ua

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∞–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
sudo certbot renew --dry-run
```

‚úÖ –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ —Å–∞–π—Ç –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ HTTPS

---

### 5. üîÑ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2

```bash
# –ó–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é PM2
pm2 save

# –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞
pm2 startup

# –í–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É —è–∫—É –ø–æ–∫–∞–∂–µ pm2 startup
# –í–æ–Ω–∞ –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞–∫:
sudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u root --hp /root
```

‚úÖ –¢–µ–ø–µ—Ä PM2 –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ

---

## üéØ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:

### ‚úÖ –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:
- –ö–æ–¥ –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ VPS
- –ë—ñ–ª–¥ –ø—Ä–æ–π—à–æ–≤ —É—Å–ø—ñ—à–Ω–æ
- PM2 –ø—Ä–æ—Ü–µ—Å –ø—Ä–∞—Ü—é—î –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—É—é—Ç—å "‚úì Ready in XXXms"

### ‚úÖ –ü—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≥–ª—è–¥–∞—á–∞ –ø—Ä–∞—Ü—é—î –±–µ–∑ –º—ñ—Å—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω—É
- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –±—ñ–∑–Ω–µ—Å—É –ø—Ä–∞—Ü—é—î –±–µ–∑ –º—ñ—Å—Ç–∞
- localStorage –º—ñ—Å—Ç–∏—Ç—å `user` —Ç–∞ `token`
- –†–µ–¥—ñ—Ä–µ–∫—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚úÖ –ü—ñ—Å–ª—è SSL:
- –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ https://sviydlyasvoih.com.ua
- HTTP —Ä–µ–¥—ñ—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ HTTPS
- –ó–µ–ª–µ–Ω–∏–π –∑–∞–º–æ—á–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

---

## üÜò –Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î:

### –ü–æ–º–∏–ª–∫–∞ –±—ñ–ª–¥—É:
```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ .next —Ç–∞ node_modules
rm -rf .next node_modules

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ –±—ñ–ª–¥
npm run build
```

#### Tailwind/`Cannot find module 'tailwindcss'`
–Ø–∫—â–æ –±—ñ–ª–¥ –ø–∞–¥–∞—î –∑ –ø–æ–º–∏–ª–∫–æ—é –ø—Ä–æ `tailwindcss`, –∑–Ω–∞—á–∏—Ç—å devDependencies –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ (npm –ø—Ä–æ–ø—É—Å—Ç–∏–≤ —ó—Ö —á–µ—Ä–µ–∑ `NODE_ENV=production`). –ü–µ—Ä–µ–¥ –±—ñ–ª–¥–æ–º –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å:
```bash
export NPM_CONFIG_PRODUCTION=false
npm ci
npm run build
```
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `npm ci --include=dev` (Node 18+). –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ Tailwind —É dependencies, —â–æ–± –Ω–µ –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –æ–±—Ä–∞–∑.

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
```bash
ls node_modules/tailwindcss | head -n 1
```
–Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ `No such file or directory` ‚Äì devDeps –≤—ñ–¥—Å—É—Ç–Ω—ñ.

### PM2 –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
pm2 delete sviy-web
pm2 start npm --name sviy-web -- start

# –î–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
pm2 logs sviy-web
```

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ PostgreSQL
sudo systemctl status postgresql

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
psql -U sviy -d sviydlyasvoyikh -c "SELECT 1;"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ .env —Ñ–∞–π–ª
cat .env | grep DATABASE_URL
```

---

## üìù –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏ (–¥–ª—è –¥–æ–≤—ñ–¥–∫–∏):

1. `src/app/api/auth/register/route.ts` - –ø–æ–≤–µ—Ä—Ç–∞—î token
2. `src/lib/client-auth.ts` - **–Ω–æ–≤–∏–π** helper
3. `src/app/auth/register/viewer/page.tsx` - city –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–µ
4. `src/app/auth/register/business/page.tsx` - city –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–µ
5. `REGISTRATION_FIX.md` - **–Ω–æ–≤–∞** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
6. `DEPLOY_CHECKLIST.md` - **—Ü–µ–π** —á–µ–∫–ª–∏—Å—Ç

---

**–ì–æ—Ç–æ–≤—ñ –¥–µ–ø–ª–æ—ó—Ç–∏?** –ü–æ—á–Ω—ñ—Ç—å –∑ –∫—Ä–æ–∫—É 1 ‚òùÔ∏è
