# –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ SVOI - –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø—ñ–≤ –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
- [x] 5 —Ç–∏–ø—ñ–≤ –∞–∫–∞—É–Ω—Ç—ñ–≤: Guest, Basic, Extended, Business, Business Premium
- [x] Prisma schema –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º–∏ –ø–æ–ª—è–º–∏
- [x] –§–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤
- [x] API endpoints –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
- [x] –ë–µ–π–¥–∂—ñ —Ç–∏–ø—ñ–≤ –∞–∫–∞—É–Ω—Ç—ñ–≤ –≤ UI

### 2. –°–∏—Å—Ç–µ–º–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ (Permission System)
- [x] –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–∑–≤–æ–ª—ñ–≤ (`src/lib/permissions.ts`)
- [x] Server-side middleware (`src/lib/api-middleware.ts`)
- [x] Client-side hooks (`src/hooks/usePermission.ts`)
- [x] UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (`src/components/ui/RequirePermission.tsx`)
- [x] –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è (`/pricing`)
- [x] –ü—Ä–∏–∫–ª–∞–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó: –∑–∞—Ö–∏—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥

### 3. –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
- [x] 15 –±—ñ–∑–Ω–µ—Å-–∫–∞—Ç–µ–≥–æ—Ä—ñ–π –±–µ–∑ –µ–º–æ–¥–∑—ñ
- [x] –°—Ç—Ä–æ–≥–∏–π –¥–∏–∑–∞–π–Ω

### 4. –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- [x] JWT —Ç–æ–∫–µ–Ω–∏ (httpOnly cookies + localStorage)
- [x] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —ñ –ª–æ–≥—ñ–Ω
- [x] –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ –≤–∫–ª–∞–¥–∫–∞–º–∏

## üîÑ –í –ø—Ä–æ—Ü–µ—Å—ñ

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–æ–∑–≤–æ–ª—ñ–≤
- [x] API —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥ –∑–∞—Ö–∏—â–µ–Ω–∏–π
- [x] UI —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥ –∑–∞—Ö–∏—â–µ–Ω–∏–π
- [ ] API —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫
- [ ] UI —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫
- [ ] API –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- [ ] UI —á–∞—Ç—É
- [ ] –ë—ñ–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü—ñ—ó (–ø–æ—à—É–∫ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤, —ñ–Ω–≤–µ—Å—Ç–æ—Ä—ñ–≤)
- [ ] –ü—Ä–µ–º—ñ—É–º-—Ñ—É–Ω–∫—Ü—ñ—ó (UCM, –∞–≤—Ç–æ–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó)

## ‚ùå –ù–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- [ ] Prisma –º—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ VPS (extended fields –≤—ñ–¥—Å—É—Ç–Ω—ñ –≤ –ë–î)
- [ ] –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è BusinessInfo model

### –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø–ª–∞—Ç—ñ–∂–Ω–æ–≥–æ —à–ª—é–∑—É
- [ ] –û–±—Ä–æ–±–∫–∞ –ø—ñ–¥–ø–∏—Å–æ–∫
- [ ] –ó–º—ñ–Ω–∞ —Ç–∏–ø—É –∞–∫–∞—É–Ω—Ç—É

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
- [ ] –°–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- [ ] –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫
- [ ] –ü–æ—à—É–∫ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤/—ñ–Ω–≤–µ—Å—Ç–æ—Ä—ñ–≤
- [ ] UCM –∞–Ω–∞–ª—ñ–∑
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
- [ ] –†–æ–∑—à–∏—Ä–µ–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ permissions.ts          ‚úÖ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–∑–≤–æ–ª—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ api-middleware.ts       ‚úÖ Server-side –∑–∞—Ö–∏—Å—Ç
‚îÇ   ‚îî‚îÄ‚îÄ auth.ts                 ‚úÖ JWT authentication
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ usePermission.ts        ‚úÖ Client-side hooks
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îú‚îÄ‚îÄ RequirePermission.tsx  ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ       ‚îî‚îÄ‚îÄ AccountTypeBadge.tsx   ‚úÖ –ë–µ–π–¥–∂—ñ —Ç–∏–ø—ñ–≤
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/              ‚úÖ –õ–æ–≥—ñ–Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/           ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (5 —Ç–∏–ø—ñ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ pricing/                ‚úÖ –¶—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ create/             ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥ (–∑–∞—Ö–∏—â–µ–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ auth/               ‚úÖ Endpoints —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
‚îÇ       ‚îî‚îÄ‚îÄ services/           ‚úÖ Endpoint —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (–∑–∞—Ö–∏—â–µ–Ω–æ)
```

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é Prisma –Ω–∞ VPS**
   ```bash
   npx prisma migrate dev
   ```

2. **–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ–∑–≤–æ–ª–∏ –¥–æ —Ä–µ—à—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–π**
   - –ó–∞—è–≤–∫–∏ (requests)
   - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (messages)
   - –ë—ñ–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü—ñ—ó

3. **–Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –ø–ª–∞—Ç—ñ–∂–Ω—É —Å–∏—Å—Ç–µ–º—É**
   - LiqPay / Fondy / Stripe
   - –û–±—Ä–æ–±–∫–∞ –ø—ñ–¥–ø–∏—Å–æ–∫
   - Webhook –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è accountType

4. **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–µ–º—ñ—É–º-—Ñ—É–Ω–∫—Ü—ñ—ó**
   - UCM –∞–Ω–∞–ª—ñ–∑
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
   - –†–æ–∑—à–∏—Ä–µ–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [PERMISSIONS.md](./PERMISSIONS.md) - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ –¥–æ–∑–≤–æ–ª—ñ–≤
- [Prisma Schema](./prisma/schema.prisma) - –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞–∫–∞—É–Ω—Ç—ñ–≤ –∑–º—ñ–Ω—ñ—Ç—å accountType –≤ localStorage:

```javascript
const user = JSON.parse(localStorage.getItem('user'));
user.accountType = 'business_premium'; // –∞–±–æ 'basic', 'extended', 'business'
localStorage.setItem('user', JSON.stringify(user));
location.reload();
```

## üêõ –í—ñ–¥–æ–º—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. **–ú—ñ–≥—Ä–∞—Ü—ñ—è –ë–î –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞** - extended fields (industry, education —Ç–æ—â–æ) –≤—ñ–¥—Å—É—Ç–Ω—ñ
2. **–ü–ª–∞—Ç–µ–∂—ñ –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ** - –∫–Ω–æ–ø–∫–∏ "–û–±—Ä–∞—Ç–∏ –ø–ª–∞–Ω" –ø–æ–∫–∞–∑—É—é—Ç—å alert
3. **–î–µ—è–∫—ñ API –Ω–µ –∑–∞—Ö–∏—â–µ–Ω—ñ** - –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ requireAuthWithPermission

## üìù –ß–µ–∫–ª–∏—Å—Ç –º—ñ–≥—Ä–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–π –Ω–∞ —Å–∏—Å—Ç–µ–º—É –¥–æ–∑–≤–æ–ª—ñ–≤

- [x] Services (POST) - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥
- [x] Services UI - —Ñ–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- [ ] Requests (POST) - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫
- [ ] Requests UI - —Ñ–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- [ ] Messages (POST) - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞
- [ ] Messages UI - —á–∞—Ç
- [ ] Favorites (POST) - –¥–æ–¥–∞–≤–∞–Ω–Ω—è
- [ ] Reviews (POST) - –≤—ñ–¥–≥—É–∫–∏
- [ ] Business search - –ø–∞—Ä—Ç–Ω–µ—Ä–∏/—ñ–Ω–≤–µ—Å—Ç–æ—Ä–∏
- [ ] Premium features - UCM/–∞–≤—Ç–æ–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
